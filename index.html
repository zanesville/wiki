---
layout: default
---
{% assign sorted_posts = site.posts | sort: "title" %}
{% for post in sorted_posts %}
{% if post.name != "index.html" %}
<article class=" js-cards column col-3 col-xl-6 col-sm-12" style="display: none;">
  <div class="card{% if post.active == "true" %} active {%endif%}" data-link="{{site.baseurl}}{{post.url}}">
    <div class="card-header">
      <a href="{{site.baseurl}}{{post.url}}" style="color:inherit;">
        <h3>{{post.title | replace: "_posts/", ""}}</h3>
      </a>
    </div>
    <div class="card-body">
      <a href="{{site.baseurl}}{{post.url}}" style="color:inherit;">
      {{ post.subtitle }}
      </a>
    </div>
    <div class="card-footer">
      <div class="columns" style="opacity: 0.8">
        <div class="column col-9">
          {% for tag in post.tags %}<a class="js-tags" href="#{{tag}}"><span class="chip bg-dark">{{tag}}</span></a>{% endfor %}
        </div>
        <div class="column col-3">
          <a href="#reset" class="js-tags" style="float:right"><span class="chip">reset</span></a>
        </div>
      </div>
    </div>
  </div>
</article>
{% endif %}
{% endfor %}

<script>

var tags = document.querySelectorAll(".js-tags");

var cards = document.querySelectorAll(".js-cards");

var cardsMap = [...Array(cards.length)].map((_, i) => i);
var tagsMap = [...Array(tags.length)].map((_, i) => i)

var hashes = [];

for (var i = 0; i < tags.length; i++) {

  var tagName = tags[i].innerText;
  if (hashes.indexOf(tagName) < 0) hashes.push(tagName)

  tags[i].addEventListener("click", function() {
    var tag = this.innerText;
    tagToggle(tag)
  })
}

function tagToggle(e) {
  if (e == "reset" || hashes.indexOf(e) < 1) {
    cardsMap.map((c, index) => {
      cards[index].style.display = "block"
    });
    return
  }else{
    cardsMap.map((c, index) => {
      cards[index].style.display = "none"
    });
    tagsMap.map((t, index) => {
      if (tags[index].innerText === e) tags[index].closest(".js-cards").style.display = "block"
    })
  }
}

window.addEventListener("hashchange", function(e) {
  var tag = e.newURL.split("#")[1];
  tagToggle(tag)
})

for (var i=0; i < cards.length; i++) {
  cards[i].addEventListener("click", function(e) {
    if (!e.target.classList.contains("js-tags") && !e.target.classList.contains("chip") ) window.location = this.children[0].dataset.link
  })
}

window.onload = function() {
  var hash = window.location.hash.replace("#", '')
  tagToggle(hash)
}

</script>
