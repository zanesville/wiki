---
layout: default
---
{% for post in site.posts %}
{% if post.name != "index.html" %}
<article class=" js-cards column col-3 col-xl-6 col-sm-12">
  <div class="card" data-link="{{site.baseurl}}{{post.url}}">
    <div class="card-header">
      <a href="{{site.baseurl}}{{post.url}}" style="color:inherit;">
        <h3>{{post.title | replace: "_posts/", ""}}</h3>
      </a>
    </div>
    <div class="card-body">
      <a href="{{site.baseurl}}{{post.url}}" style="color:inherit;">
      {{ post.subtitle }}
      </a>
    </div>
    <div class="card-footer">
      <div class="columns" style="opacity: 0.8">
        <div class="column col-9">
          {% for tag in post.tags %}<a class="js-tags" href="#{{tag}}"><span class="chip bg-dark">{{tag}}</span></a>{% endfor %}
        </div>
        <div class="column col-3">
          <a href="#reset" class="js-tags" style="float:right"><span class="chip">reset</span></a>
        </div>
      </div>
    </div>
  </div>
</article>
{% endif %}
{% endfor %}

<script>

var tags = document.querySelectorAll(".js-tags");

var cards = document.querySelectorAll(".js-cards");

var cardsMap = [...Array(cards.length)].map((_, i) => i);
var tagsMap = [...Array(tags.length)].map((_, i) => i)


for (var i = 0; i < tags.length; i++) {
  tags[i].addEventListener("click", function() {
    var clicked = this.innerText;
    console.log(this.innerText)
    if (this.innerText == "reset") {
      cardsMap.map((c, index) => {
        cards[index].style.display = "block"
      });
    }else{
      cardsMap.map((c, index) => {
        cards[index].style.display = "none"
      });
      tagsMap.map((t, index) => {
        if (tags[index].innerText === clicked) tags[index].closest(".js-cards").style.display = "block"
      })
    }
    
  })
}

for (var i=0; i < cards.length; i++) {
  cards[i].addEventListener("click", function(e) {
    if (e.target.classList.contains("card-body")) window.location = this.children[0].dataset.link
  })
}

</script>