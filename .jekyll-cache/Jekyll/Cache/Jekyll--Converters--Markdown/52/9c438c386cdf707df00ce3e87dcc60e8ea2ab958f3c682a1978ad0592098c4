I"”
<h2 id="node-apps-start-at-boot">Node Apps Start at Boot</h2>
<p>see https://thomasswilliams.github.io/2020/04/07/installing-pm2-windows.html</p>

<h2 id="compression">Compression</h2>

<p>compression types have to be listed before <em>/</em></p>

<p>MIME Types for Vector Tiles and GeoJSON</p>

<p>https://github.com/mapbox/vector-tile-spec/issues/48</p>

<h2 id="authentication">Authentication</h2>

<p>Authentication Application Pool</p>

<h2 id="https--ssl">HTTPS &amp; SSL</h2>

<p>Be sure to have a valid SSL Certificate installed</p>

<p>Make sure Require SSL <strong>IS NOT CHECKED</strong></p>

<p>Then use the URL Rewrite add-in as explained in the following post to redirect HTTP to HTTPS</p>

<p><a href="https://www.sslshopper.com/iis7-redirect-http-to-https.html">https://www.sslshopper.com/iis7-redirect-http-to-https.html</a></p>

<h2 id="basic-authentication">Basic Authentication</h2>

<blockquote>
  <p>HTTP to HTTPS redirect should be set when using Basic Authentication as usernames and passwords are sent in clear text</p>
</blockquote>

<p>The users that are allowed to access the folders protected with Authentication are just the local users allowed to access the folder, with the @domain.local after the username.</p>

<p><a href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/security/authentication/">https://docs.microsoft.com/en-us/iis/configuration/system.webserver/security/authentication/</a></p>

<h2 id="node-reverse-proxyurl-redirect">Node Reverse Proxy/URL Redirect</h2>

<p><a href="https://dev.to/petereysermans/hosting-a-node-js-application-on-windows-with-iis-as-reverse-proxy-397b">https://dev.to/petereysermans/hosting-a-node-js-application-on-windows-with-iis-as-reverse-proxy-397b</a></p>

<h2 id="ssl-certificate">SSL Certificate</h2>

<p>Everything needs to run on SSL to make all APIs happy</p>

<p><a href="https://weblog.west-wind.com/posts/2016/feb/22/using-lets-encrypt-with-iis-on-windows">https://weblog.west-wind.com/posts/2016/feb/22/using-lets-encrypt-with-iis-on-windows</a></p>

<h2 id="node-modules-globally-installed">Node Modules Globally Installed</h2>
<ul>
  <li>pm2 - globally installed - this manages the node app, restarts it if it crashes, can force it to run on multiple cores, and can restart the app on-demand</li>
  <li>pm2-windows-service pm2 normally runs as the user, so we need to run it as a service so that is does not shutdown when you logout of the server
    <ul>
      <li>see <a href="https://github.com/jon-hall/pm2-windows-service#readme">https://github.com/jon-hall/pm2-windows-service#readme</a></li>
    </ul>
  </li>
</ul>

<h2 id="cors">CORS</h2>

<p>https://enable-cors.org/server_iis7.html</p>
:ET