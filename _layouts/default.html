<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{{site.title}}</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{site.baseurl}}/assets/spectre.css">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" as="style"
    onload="this.rel='stylesheet'">
  <link rel="preload" href="{{site.baseurl}}/assets/monokai.css" as="style" onload="this.rel='stylesheet'">
  <!--http://jwarby.github.io/jekyll-pygments-themes/languages/javascript.html-->
  <!-- <link rel="preload" href="/assets/prism.css" as="style" onload="this.rel='stylesheet'"> -->
  <link href="https://fonts.googleapis.com/css2?family=Alata&family=Montserrat:wght@300;400;600;700&family=Spartan:wght@400;700&family=Source+Code+Pro&display=swap" rel="stylesheet">
  <style>
    details {
      cursor: pointer;
    }
  </style>
  <script src="{{site.baseurl}}/assets/js/simple-jekyll-search.min.js"></script>
</head>

<body>
  <!--[if lt IE 7]>
      <p class="browsehappy2">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
  
  <header class="navbar">
    <section class="navbar-section">
      <a href="{{site.baseurl}}/" class="navbar-brand mr-2">COZ GIS Wiki</a>
    </section>
    <section class="navbar-section">
      <a class="btn btn-link" href="https://github.com/zanesville/wiki/blob/master/{{page.path}}"><i
          class="icon icon-edit"></i>
        Edit this page</a>
    </section>
  </header>
  
  <div class="off-canvas">
    <!-- off-screen toggle button -->
    <a class="off-canvas-toggle btn btn-link btn-action" href="#sidebar-id">
      <i class="icon icon-arrow-right"></i>
    </a>
    
    <div id="sidebar-id" class="off-canvas-sidebar">

      <form style="width:100%;margin-bottom:1rem;">
        <input autocomplete="off" class="form-input" type="text" id="search-input" placeholder="search">
        <ul id="results-container"></ul>
      </form>

      <div class="container">
        {% assign categories = site.categories | sort %}
        {% for category in categories %}
        {% if category[0] != "docs" %}
        {% assign sorted_posts = category[1] | sort: "title" %}
        
        <details class="accordion">
          <summary class="accordion-header" style="text-transform:capitalize;">
            <i class="icon icon-arrow-right mr-1"></i>
            {{category[0]}}
          </summary>          
          <div class="accordion-body">         
          {% for post in sorted_posts %}
            <p style="margin-bottom: 0.4rem;"><a rel="prefetch" class="siteLinks" href="{{site.baseurl}}{{post.url}}">{{post.title}}</a></p>
          {% endfor %}
           </div>
         </details>

         {% endif %}
         {% endfor %}
         <p>
          <a style="width:100%;" href="{{site.baseurl}}/admin/collections/posts/new/"><button style="width:100%;" class="btn"><i
            class="icon icon-edit"></i> New Doc</button>
          </a>
        </p>
        <div id="tags">
          <h4>Tags</h4>
          {% assign tags = site.tags | sort %}
          {% for tag in tags %}
          <span class="site-tag">
            <a href="{{site.baseurl}}/#{{ tag | first | slugify }}" style="font-size: {{ tag | last | size  |  times: 4 | plus: 80  }}%">
              {{ tag[0] | replace:'-', ' ' }} ({{ tag | last | size }})
            </a>
          </span>
        {% endfor %}
      </div>
      </div>
    </div>

    <a class="off-canvas-overlay" href="#close"></a>
    
    <div class="off-canvas-content">
      
      <main class="container content">
        <section class="columns">
          {{ content }}
        </section>
      </main>
      
    </div>
  </div>

  <script>
    console.log("search")
    var sjs = SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('results-container'),
      json: '{{site.baseurl}}/search.json'
    });
    
    document.addEventListener("click", function(e) {
      document.getElementById('search-input').value = "";
      document.getElementById('results-container').innerHTML = "";
    })
    
  </script>
  {% if page.id %}
  <script async defer src="{{site.baseurl}}/assets/js/tocbot.min.js"></script>
  <script>
    window.onload = function () {
      console.log("tocbot")
      tocbot.init({
        // Where to render the table of contents.
        tocSelector: '#toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '#content',
        orderedList: false,
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3, h4',
      });
    }
  </script>
  {% endif %}
</body>

</html>
